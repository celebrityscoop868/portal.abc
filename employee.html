<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="theme-color" content="#2563eb" />
  <title>Employee Portal - SunPower</title>
  <link rel="stylesheet" href="./app.css" />
</head>
<body class="portal has-tabs">
  <div class="app">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="brand">
          <div class="logo">â˜€ï¸</div>
          <div>
            <div class="brand-title">SunPower</div>
            <div class="brand-sub">Employee Portal</div>
          </div>
        </div>
      </div>
      
      <nav class="nav">
        <a class="nav-item" href="#home" data-route="home">
          <span class="nav-icon">ğŸ </span>
          <span>Home</span>
        </a>
        <a class="nav-item" href="#progress" data-route="progress">
          <span class="nav-icon">ğŸ“Š</span>
          <span>Progress</span>
        </a>
        <a class="nav-item" href="#schedule" data-route="schedule">
          <span class="nav-icon">ğŸ“…</span>
          <span>Schedule</span>
        </a>
        <a class="nav-item" href="#payroll" data-route="payroll">
          <span class="nav-icon">ğŸ’°</span>
          <span>Payroll</span>
        </a>
        <a class="nav-item" href="#benefits" data-route="benefits">
          <span class="nav-icon">ğŸ–ï¸</span>
          <span>Benefits</span>
        </a>
        <a class="nav-item" href="#chat" data-route="chat">
          <span class="nav-icon">ğŸ’¬</span>
          <span>HR Chat</span>
        </a>
        <a class="nav-item" href="#help" data-route="help">
          <span class="nav-icon">â“</span>
          <span>Help</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <button class="btn ghost" id="btnLogout" style="width:100%;">
          <span>ğŸšª</span> Logout
        </button>
      </div>
    </aside>

    <div class="drawer-overlay" id="drawerOverlay"></div>

    <main class="main">
      <header class="topbar">
        <button class="btn icon" id="btnMenu" aria-label="Menu">â˜°</button>
        <div class="page-info">
          <div class="page-title" id="pageTitle">Home</div>
          <div class="page-sub" id="pageSub">Welcome to your portal</div>
        </div>
        <div class="topbar-actions">
          <a href="#notifications" class="btn icon" aria-label="Notifications">ğŸ””</a>
          <a href="#profile" class="btn icon" aria-label="Profile">ğŸ‘¤</a>
        </div>
      </header>

      <div class="content" id="pageBody">
        <div class="azCard" style="text-align:center;padding:40px;">
          <div style="font-size:48px;margin-bottom:16px;">â˜€ï¸</div>
          <div style="font-weight:700;font-size:18px;">Loading...</div>
        </div>
      </div>
    </main>
  </div>

  <!-- Mobile Bottom Tabs -->
  <div id="azTabs">
    <div class="az-wrap">
      <a class="az-tab" href="#home" data-route="home">
        <span class="az-ico">ğŸ </span>
        <span>Home</span>
      </a>
      <a class="az-tab" href="#schedule" data-route="schedule">
        <span class="az-ico">ğŸ“…</span>
        <span>Schedule</span>
      </a>
      <a class="az-tab" href="#payroll" data-route="payroll">
        <span class="az-ico">ğŸ’°</span>
        <span>Pay</span>
      </a>
      <a class="az-tab" href="#benefits" data-route="benefits">
        <span class="az-ico">ğŸ–ï¸</span>
        <span>Benefits</span>
      </a>
      <a class="az-tab" href="#more" data-route="more">
        <span class="az-ico">â‹®</span>
        <span>More</span>
      </a>
    </div>
  </div>

  <script type="module">
    import { initEmployeePortal } from './employee.js';
    import { signOutNow } from './auth.js';
    import { uiWireDrawer } from './ui.js';

    // Initialize drawer
    uiWireDrawer({
      btnId: 'btnMenu',
      sidebarId: 'sidebar',
      overlayId: 'drawerOverlay'
    });

    // Logout handler
    document.getElementById('btnLogout').addEventListener('click', async () => {
      await signOutNow();
      window.location.href = './index.html';
    });

    // Initialize portal
    initEmployeePortal();
  </script>
</body>
</html>
